<html>
<head>
<title>Naked</title>
<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
<div id="fb_body_wrapper">
<div id="fb_tab">
<div id="fb_tab_l">Naked</div>
<div id="fb_tab_r">&nbsp;<img src="images/fblogo_mini.gif" /></div> 
</div> 
<div id="fb_pg_wrapper">
<div id="fb_pg_body">
	Ecrire des fonctions sans code prologue / &eacute;pilogue<br \>
<br \>
<div class="fb_sect_title">Syntaxe</div><div class="fb_sect_cont"><tt><br \>
<a href="KeyPgSub.html">Sub</a> <i>identifier</i> <b>Naked</b> [<i>calling_convention</i>] ( <i>param_list</i> )<br \>
<div class="fb_indent"><i>asm_statements</i><br \>
</div><a href="KeyPgEndblock.html">End</a> <a href="KeyPgSub.html">Sub</a><br \>
<a href="KeyPgFunction.html">Function</a> <i>identifier</i> <b>Naked</b> [<i>calling_convention</i>] ( <i>param_list</i> ) <a href="KeyPgAs.html">As</a> <i>data_type</i><br \>
<div class="fb_indent"><i>asm_statements</i><br \>
</div><a href="KeyPgEndblock.html">End</a> <a href="KeyPgFunction.html">Function</a><br \>
</tt><br \>
</div><div class="fb_sect_title">Param&egrave;tres</div><div class="fb_sect_cont"><br \>
<tt><i>identifier</i></tt> <div class="fb_indent"> nom de la proc&eacute;dure.<br \></div>
<tt><i>calling_convention</i></tt> <div class="fb_indent"> convention d'appel de la proc&eacute;dure - peut &ecirc;tre <tt><a href="KeyPgCdecl.html">cdecl</a></tt>, <tt><a href="KeyPgPascal.html">pascal</a></tt> ou <tt><a href="KeyPgStdcall.html">stdcall</a></tt><br \></div>
<tt><i>asm_statements</i></tt> <div class="fb_indent"> le code dans le corps de la proc&eacute;dure.   Le code pour g&eacute;rer les param&egrave;tres et retourner les valeurs doit &ecirc;tre fait enti&egrave;rement manuellement.  Notez que les m&eacute;thodes pour faire ceci peuvent changeer en fonction de la convention d'appel.<br \></div>
<tt><i>param_list</i></tt> <div class="fb_indent"> param&egrave;tres &agrave; passer &agrave; la proc&eacute;dure.<br \></div>
<tt><i>data_type</i></tt> <div class="fb_indent"> le <a href="DataType.html">data type</a> de la fonction.<br \></div>
<br \>
</div><div class="fb_sect_title">Description</div><div class="fb_sect_cont"><br \>
<tt><b>Naked</b></tt> permet au programmeur d'&eacute;crire des proc&eacute;dures sans que le compilateur g&eacute;n&eacute;re de code prologue / &eacute;pilogue.  Ceci est utile lors de l'&eacute;criture de petites fonctions rapides en <tt><a href="KeyPgAsm.html">Asm</a></tt> sans surcharge inutile.<br \>
<br \>
</div><div class="fb_sect_title">Exemple</div><div class="fb_sect_cont"><br \>
<tt><div class="freebasic">
<span class="com">''&nbsp;Naked&nbsp;cdecl&nbsp;function</span><br />
<span class="key">Function</span>&nbsp;<span class="wrd">add</span>&nbsp;<span class="wrd">naked</span>&nbsp;<span class="key">cdecl</span>&nbsp;<span class="wrd">_</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="oth">(</span>&nbsp;<span class="wrd">_</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="key">ByVal</span>&nbsp;<span class="wrd">a</span>&nbsp;<span class="key">As</span>&nbsp;<span class="key">Integer</span><span class="oth">,</span>&nbsp;<span class="wrd">_</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="key">ByVal</span>&nbsp;<span class="wrd">b</span>&nbsp;<span class="key">As</span>&nbsp;<span class="key">Integer</span>&nbsp;<span class="wrd">_</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="oth">)</span>&nbsp;<span class="key">As</span>&nbsp;<span class="key">Integer</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="key">Asm</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="wrd">mov</span>&nbsp;<span class="wrd">eax</span><span class="oth">,</span>&nbsp;<span class="wrd">dword</span>&nbsp;<span class="key">Ptr</span>&nbsp;<span class="oth">[</span><span class="wrd">esp</span><span class="oth">+</span><span class="num">4</span><span class="oth">]</span>&nbsp;<span class="com">''&nbsp;a</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="wrd">add</span>&nbsp;<span class="wrd">eax</span><span class="oth">,</span>&nbsp;<span class="wrd">dword</span>&nbsp;<span class="key">Ptr</span>&nbsp;<span class="oth">[</span><span class="wrd">esp</span><span class="oth">+</span><span class="num">8</span><span class="oth">]</span>&nbsp;<span class="com">''&nbsp;+&nbsp;b</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="wrd">ret</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="com">''&nbsp;return&nbsp;result&nbsp;in&nbsp;eax</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="key">End</span>&nbsp;<span class="key">Asm</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<br />
<span class="key">End</span>&nbsp;<span class="key">Function</span><br />
<br />
<span class="key">Print</span>&nbsp;<span class="wrd">add</span><span class="oth">(</span>&nbsp;<span class="num">1</span><span class="oth">,</span>&nbsp;<span class="num">5</span>&nbsp;<span class="oth">)</span></div></tt><br />
<br \>
</div><div class="fb_sect_title">Diff&eacute;rences de plate-forme</div><div class="fb_sect_cont"><br \>
<ul><li> La convention d'appel par d&eacute;faut peut changer en fonction de la plate-forme utilis&eacute;e.  En outre, <tt><a href="KeyPgStdcall.html">stdcall</a></tt> ne se comporte pas de la m&ecirc;me fa&ccedil;on sur toutes les plateformes - sur Linux, il se comporte comme <tt><a href="KeyPgCdecl.html">cdecl</a></tt>.  Il peut &ecirc;tre n&eacute;cessaire de v&eacute;rifier <a href="CatPgDddefines.html">les d&eacute;finitions intrins&egrave;ques</a> ((comme <tt><a href="KeyPgDdfbwin32.html">__FB_WIN32__</a></tt>) et d'&eacute;crire du code diff&eacute;rent en fonction d'elles.<br \>
<br \>
</ul></div><div class="fb_sect_title">Diff&eacute;rences avec QB</div><div class="fb_sect_cont"><br \>
<ul><li> Nouveau pour FreeBASIC<br \>
<br \>
</ul></div><div class="fb_sect_title">Voir aussi</div><div class="fb_sect_cont"><br \>
<ul><li> <tt><a href="KeyPgAsm.html">Asm</a></tt><br \>
<li> <tt><a href="KeyPgFunction.html">Function</a></tt><br \>
<li> <tt><a href="KeyPgSub.html">Sub</a></tt><br \>
<li> <tt><a href="KeyPgCdecl.html">cdecl</a></tt><br \>
<li> <tt><a href="KeyPgPascal.html">pascal</a></tt><br \>
<li> <tt><a href="KeyPgStdcall.html">stdcall</a></tt><br \>
<br \>
</ul><br \>
   <br \>
</div>
</div>
</div> 
</div> 
</body>
</html>
