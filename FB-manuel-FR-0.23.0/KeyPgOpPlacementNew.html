<html>
<head>
<title>Operator Placement New</title>
<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
<div id="fb_body_wrapper">
<div id="fb_tab">
<div id="fb_tab_l">Op&eacute;rateur  New (Emplacement m&eacute;moire)</div>
<div id="fb_tab_r">&nbsp;<img src="images/fblogo_mini.gif" /></div> 
</div> 
<div id="fb_pg_wrapper">
<div id="fb_pg_body">
	Op&eacute;rateur pour construire un object &agrave; l'adresse m&eacute;moire sp&eacute;cifi&eacute;e.<br \>
<br \>
<div class="fb_sect_title">Syntaxe</div><div class="fb_sect_cont"><tt><br \>
<i>result</i> = <b>New(<i>address</i>)</b> <i><a href="DataType.html">datatype</a></i><br \>
<div class="fb_indent"><i>ou</i><br \>
</div><i>result</i> = <b>New(<i>address</i>)</b> <i><a href="DataType.html">datatype</a></i> ( <i>initializers</i>, ... )<br \>
<div class="fb_indent"><i>ou</i><br \>
</div><i>result</i> = <b>New(<i>address</i>)</b> <i><a href="DataType.html">datatype</a></i><b>[</b> <i>count</i> <b>]</b><br \>
</tt><br \>
</div><div class="fb_sect_title">Param&egrave;tres</div><div class="fb_sect_cont"><br \>
<tt><i>address</i></tt> <br \>
<div class="fb_indent">La position m&eacute;moire o&ugrave; construire. Les parenth&egrave;ses <b>ne sont pas</b> facultatives.<br \>
</div><tt><i>size</i></tt> <br \>
<div class="fb_indent">Le nombre d'octets &agrave; allouer.<br \>
</div><tt><i>initializers</i></tt><br \>
<div class="fb_indent">La valeur initiale de la variable.<br \>
</div><tt><i>datatype</i></tt><br \>
<div class="fb_indent">Le nom du type de donn&eacute;e &agrave; cr&eacute;er.<br \>
</div><tt><i>count</i></tt><br \>
<div class="fb_indent">Le nombre d'&eacute;l&eacute;ments &agrave; allouer.<br \>
<br \>
</div></div><div class="fb_sect_title">Valeur retourn&eacute;e</div><div class="fb_sect_cont"><br \>
Un pointeur du type <a href="DataType.html">datatype</a> vers la nouvelle donn&eacute;e allou&eacute;e.<br \>
<br \>
</div><div class="fb_sect_title">Description</div><div class="fb_sect_cont"><br \>
L'op&eacute;rateur <tt><b>New (Emplacement m&eacute;moire)</b></tt> construit un type de donn&eacute;e sp&eacute;cifique &agrave; l'emplacement m&eacute;moire sp&eacute;cifi&eacute;. <br \>
<br \>
Pour des types simples, comme les entiers, une valeur initiale peut &ecirc;tre donn&eacute;e. Pour des types sans constructeur, des valeurs initiales peuvent &ecirc;tre sp&eacute;cifi&eacute;es pour chacun des champs. Pour les types ayant des constructeurs ceux-ci peuvent &ecirc;tre appel&eacute;s par <tt><b>New (Emplacement m&eacute;moire)</b></tt>. Si aucun initialiseur n'est fourni, les valeurs par d&eacute;faut seront utilis&eacute;es.<br \>
<br \>
La m&eacute;moire <b>n'est pas</b> allou&eacute;e quand on utilise l'op&eacute;rateur <tt><b>Placement New</b></tt>. Au lieu de cela, la m&eacute;moire &agrave; l'<tt><i>address</i></tt>e sp&eacute;cifi&eacute;e est utilis&eacute;e.  Il est incorrect d'appeler <tt><a href="KeyPgOpDelete.html">Delete</a></tt> pour cette adresse. Voir les exemples ci-dssous pour utiliser correctement <i>new (emplacement m&eacute;moire)</i>.<br \>
<br \>
Sp&eacute;cifier une valeur initiale <tt><a href="KeyPgAny.html">Any</a></tt>, comme dans <tt>new(address) datatype(any)</tt> n'initialisera pas les donn&eacute;es.  Ceci n'est valide que pour des types de donn&eacute;e n'ayant pas de constructeur.<br \>
<br \>
Sp&eacute;cifier une valeur initiale <tt><a href="KeyPgAny.html">Any</a></tt>, comme dans <tt>new(address) datatype[count]{any}</tt> n'initialisera pas les donn&eacute;es.  Ceci n'est valide que pour des types de donn&eacute;e n'ayant pas de constructeur.<br \>
<br \>
</div><div class="fb_sect_title">Exemple</div><div class="fb_sect_cont"><br \>
<tt><div class="freebasic">
<span class="com">''&nbsp;"placement&nbsp;new"&nbsp;example</span><br />
<br />
<span class="key">Type</span>&nbsp;<span class="wrd">Rational</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="key">As</span>&nbsp;<span class="key">Integer</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="wrd">numerator</span><span class="oth">,</span>&nbsp;<span class="wrd">denominator</span><br />
<span class="key">End</span>&nbsp;<span class="key">Type</span><br />
<br />
<span class="key">Scope</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="com">''&nbsp;allocate&nbsp;some&nbsp;memory&nbsp;to&nbsp;construct&nbsp;as&nbsp;a&nbsp;Rational</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="key">Dim</span>&nbsp;<span class="key">As</span>&nbsp;<span class="key">Any</span>&nbsp;<span class="key">Ptr</span>&nbsp;<span class="wrd">ap</span>&nbsp;<span class="oth">=</span>&nbsp;<span class="key">CAllocate</span><span class="oth">(</span><span class="key">Len</span><span class="oth">(</span><span class="wrd">Rational</span><span class="oth">))</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="com">''&nbsp;make&nbsp;the&nbsp;placement&nbsp;new&nbsp;call</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="key">Dim</span>&nbsp;<span class="key">As</span>&nbsp;<span class="wrd">Rational</span>&nbsp;<span class="key">Ptr</span>&nbsp;<span class="wrd">r</span>&nbsp;<span class="oth">=</span>&nbsp;<span class="key">New</span>&nbsp;<span class="oth">(</span><span class="wrd">ap</span><span class="oth">)</span>&nbsp;<span class="wrd">Rational</span><span class="oth">(</span>&nbsp;<span class="num">3</span><span class="oth">,</span>&nbsp;<span class="num">4</span>&nbsp;<span class="oth">)</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="com">''&nbsp;you&nbsp;can&nbsp;see,&nbsp;the&nbsp;addresses&nbsp;are&nbsp;the&nbsp;same,&nbsp;just&nbsp;having&nbsp;different&nbsp;types&nbsp;in&nbsp;the&nbsp;compiler</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="key">Print</span>&nbsp;<span class="wrd">ap</span><span class="oth">,</span>&nbsp;<span class="wrd">r</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="com">''&nbsp;confirm&nbsp;all&nbsp;is&nbsp;okay</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="key">Print</span>&nbsp;<span class="wrd">r</span><span class="oth">-&gt;</span><span class="wrd">numerator</span>&nbsp;<span class="oth">&amp;</span>&nbsp;<span class="quo">"/"</span>&nbsp;<span class="oth">&amp;</span>&nbsp;<span class="wrd">r</span><span class="oth">-&gt;</span><span class="wrd">denominator</span><br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="com">''&nbsp;destroying&nbsp;must&nbsp;be&nbsp;done&nbsp;explicitly,&nbsp;because&nbsp;delete&nbsp;will&nbsp;automatically&nbsp;free&nbsp;the&nbsp;memory</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="com">''&nbsp;and&nbsp;that&nbsp;isn't&nbsp;always&nbsp;okay&nbsp;when&nbsp;using&nbsp;placement&nbsp;new.&nbsp;ALWAYS&nbsp;explicitly&nbsp;call&nbsp;the&nbsp;destructor.</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="wrd">r</span><span class="oth">-&gt;</span><span class="key">Destructor</span><span class="oth">(</span>&nbsp;<span class="oth">)</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="com">''&nbsp;we&nbsp;explicitly&nbsp;allocated,&nbsp;so&nbsp;we&nbsp;explicitly&nbsp;deallocate</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="key">Deallocate</span><span class="oth">(</span>&nbsp;<span class="wrd">ap</span>&nbsp;<span class="oth">)</span><br />
<br />
<span class="key">End</span>&nbsp;<span class="key">Scope</span><br />
</div></tt><br />
</div><div class="fb_sect_title">Diff&eacute;rences de dialecte</div><div class="fb_sect_cont"><br \>
<ul><li> Utilisable seulement dans le dialecte <i><a href="CompilerOptlang.html">-lang fb</a></i>.<br \>
<br \>
</ul></div><div class="fb_sect_title">Diff&eacute;rences avec QB</div><div class="fb_sect_cont"><br \>
<ul><li> Nouveau pour FreeBASIC<br \>
<br \>
</ul></div><div class="fb_sect_title">Voir aussi</div><div class="fb_sect_cont"><br \>
<ul><li> <tt><a href="KeyPgOpDelete.html">Delete</a></tt><br \>
<li> <tt><a href="KeyPgOpNew.html">New</a></tt><br \>
<br \>
</ul><br \>
   <br \>
</div>
</div>
</div> 
</div> 
</body>
</html>
